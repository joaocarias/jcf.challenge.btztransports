<app-header-default></app-header-default>

<app-navbar></app-navbar>

<div class="container mt-3">

    <nav aria-label="breadcrumb ">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a [routerLink]="['/app']">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">Abastecimentos</li>
        </ol>
    </nav>

    <div class="card">
        <div class="card-header">
            Lista de Abastecimentos Cadastrados
        </div>
        <div class="card-body">

            <button type="button" class="btn btn-primary" [routerLink]="['/app/abastecimentos/cadastrar']">Cadastrar Novo Abastecimentos</button>

            <table class="table table-striped table-hover "
                   *ngIf="refuelings && refuelings.length > 0; else NoDriversMessage">
                <thead>
                    <tr>
                        <th scope="col">Veículo</th>
                        <th scope="col">Motorista</th>
                        <th scope="col">Data</th>
                        <th scope="col">Tipo Combustível</th>
                        <th scope="col">Quantidade</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let linha of refuelings">
                        <th scope="row">{{ linha.vehicle?.name }}</th>
                        <td> {{ linha.driver?.name }} </td>
                        <td> {{ linha.dateRefueling }}</td>
                        <td> {{ linha.fuelTypeDescription }}</td>
                        <td> {{ linha.quantity }}</td>

                        <td> <a [routerLink]="['/app/motoristas/', linha.id ]"> Detalhar </a></td>
                    </tr>
                </tbody>
            </table>

            <ng-template #NoDriversMessage>
                <div class="alert alert-warning mt-3" role="alert">
                    Não há abastecimentos cadastrados.
                </div>
            </ng-template>
        </div>
    </div>
</div>
